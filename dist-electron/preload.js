"use strict";
const electron = require("electron");
const sqliteAPI = {
  execute: (sql, params = []) => electron.ipcRenderer.invoke("sqlite-execute", sql, params),
  query: (sql, params = []) => electron.ipcRenderer.invoke("sqlite-query", sql, params),
  get: (sql, params = []) => electron.ipcRenderer.invoke("sqlite-get", sql, params)
};
const electronAPI = {
  loadRunFiles: (runFolderPath) => electron.ipcRenderer.invoke("load-run-files", runFolderPath),
  getAllRuns: () => electron.ipcRenderer.invoke("get-all-runs"),
  getTheme: () => electron.ipcRenderer.invoke("get-theme"),
  setTheme: (theme) => electron.ipcRenderer.invoke("set-theme", theme),
  selectFolder: () => electron.ipcRenderer.invoke("select-folder"),
  getRunFolder: () => electron.ipcRenderer.invoke("get-run-folder"),
  onLoadProgress: (callback) => {
    const progressHandler = (_, data) => callback(data);
    electron.ipcRenderer.on("load-progress", progressHandler);
    return () => {
      electron.ipcRenderer.removeListener("load-progress", progressHandler);
    };
  },
  deleteRun: (run) => electron.ipcRenderer.invoke("delete-run", run),
  sqlite: sqliteAPI,
  checkForUpdates: () => electron.ipcRenderer.invoke("check-for-updates"),
  startUpdate: () => electron.ipcRenderer.invoke("start-update"),
  onUpdateAvailable: (callback) => {
    const handler = (_, info) => callback(info);
    electron.ipcRenderer.on("update-available", handler);
    return () => {
      electron.ipcRenderer.removeListener("update-available", handler);
    };
  },
  onUpdateProgress: (callback) => {
    const handler = (_, info) => callback(info);
    electron.ipcRenderer.on("download-progress", handler);
    return () => {
      electron.ipcRenderer.removeListener("download-progress", handler);
    };
  },
  onUpdateDownloaded: (callback) => {
    const handler = (_, info) => callback(info);
    electron.ipcRenderer.on("update-downloaded", handler);
    return () => {
      electron.ipcRenderer.removeListener("update-downloaded", handler);
    };
  },
  onUpdateError: (callback) => {
    const handler = (_, error) => callback(error);
    electron.ipcRenderer.on("update-error", handler);
    return () => {
      electron.ipcRenderer.removeListener("update-error", handler);
    };
  }
};
electron.contextBridge.exposeInMainWorld("electronAPI", electronAPI);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJlbG9hZC5qcyIsInNvdXJjZXMiOlsiLi4vZWxlY3Ryb24vcHJlbG9hZC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjb250ZXh0QnJpZGdlLCBpcGNSZW5kZXJlciB9IGZyb20gJ2VsZWN0cm9uJztcblxuLy8g5a6f6KGM44OH44O844K/44Gu5Z6L5a6a576pXG5pbnRlcmZhY2UgUnVuIHtcbiAgaWQ6IHN0cmluZztcbiAgY2hhcmFjdGVyOiBzdHJpbmc7XG4gIHZpY3Rvcnk6IGJvb2xlYW47XG4gIGFzY2Vuc2lvbl9sZXZlbDogbnVtYmVyO1xuICBmbG9vcl9yZWFjaGVkOiBudW1iZXI7XG4gIHBsYXl0aW1lOiBudW1iZXI7XG4gIHNjb3JlOiBudW1iZXI7XG4gIHRpbWVzdGFtcDogbnVtYmVyO1xuICBydW5fZGF0YTogYW55O1xufVxuXG5pbnRlcmZhY2UgTG9hZFByb2dyZXNzIHtcbiAgcHJvZ3Jlc3M6IG51bWJlcjtcbiAgdG90YWw6IG51bWJlcjtcbn1cblxuLy8gU1FMaXRl5pON5L2c55So44Gu5Z6L5a6a576pXG5pbnRlcmZhY2UgU1FMaXRlQVBJIHtcbiAgZXhlY3V0ZTogKHNxbDogc3RyaW5nLCBwYXJhbXM/OiBhbnlbXSkgPT4gUHJvbWlzZTxhbnk+O1xuICBxdWVyeTogKHNxbDogc3RyaW5nLCBwYXJhbXM/OiBhbnlbXSkgPT4gUHJvbWlzZTxhbnlbXT47XG4gIGdldDogKHNxbDogc3RyaW5nLCBwYXJhbXM/OiBhbnlbXSkgPT4gUHJvbWlzZTxhbnk+O1xufVxuXG5pbnRlcmZhY2UgVXBkYXRlSW5mbyB7XG4gIHZlcnNpb246IHN0cmluZztcbiAgcmVsZWFzZU5vdGVzPzogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgUHJvZ3Jlc3NJbmZvIHtcbiAgYnl0ZXNQZXJTZWNvbmQ6IG51bWJlcjtcbiAgcGVyY2VudDogbnVtYmVyO1xuICB0cmFuc2ZlcnJlZDogbnVtYmVyO1xuICB0b3RhbDogbnVtYmVyO1xufVxuXG4vLyBBUEnjga7lnovlrprnvqlcbmludGVyZmFjZSBFbGVjdHJvbkFQSSB7XG4gIGxvYWRSdW5GaWxlczogKHJ1bkZvbGRlclBhdGg6IHN0cmluZykgPT4gUHJvbWlzZTxSdW5bXT47XG4gIGdldEFsbFJ1bnM6ICgpID0+IFByb21pc2U8UnVuW10+O1xuICBnZXRUaGVtZTogKCkgPT4gUHJvbWlzZTxzdHJpbmc+O1xuICBzZXRUaGVtZTogKHRoZW1lOiBzdHJpbmcpID0+IFByb21pc2U8c3RyaW5nPjtcbiAgc2VsZWN0Rm9sZGVyOiAoKSA9PiBQcm9taXNlPHN0cmluZyB8IG51bGw+O1xuICBnZXRSdW5Gb2xkZXI6ICgpID0+IFByb21pc2U8c3RyaW5nIHwgbnVsbD47XG4gIG9uTG9hZFByb2dyZXNzOiAoY2FsbGJhY2s6IChwcm9ncmVzczogTG9hZFByb2dyZXNzKSA9PiB2b2lkKSA9PiAoKSA9PiB2b2lkO1xuICBkZWxldGVSdW46IChydW46IGFueSkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgc3FsaXRlOiBTUUxpdGVBUEk7XG4gIGNoZWNrRm9yVXBkYXRlczogKCkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgc3RhcnRVcGRhdGU6ICgpID0+IFByb21pc2U8dm9pZD47XG4gIG9uVXBkYXRlQXZhaWxhYmxlOiAoY2FsbGJhY2s6IChpbmZvOiBVcGRhdGVJbmZvKSA9PiB2b2lkKSA9PiAoKSA9PiB2b2lkO1xuICBvblVwZGF0ZVByb2dyZXNzOiAoY2FsbGJhY2s6IChpbmZvOiBQcm9ncmVzc0luZm8pID0+IHZvaWQpID0+ICgpID0+IHZvaWQ7XG4gIG9uVXBkYXRlRG93bmxvYWRlZDogKGNhbGxiYWNrOiAoaW5mbzogVXBkYXRlSW5mbykgPT4gdm9pZCkgPT4gKCkgPT4gdm9pZDtcbiAgb25VcGRhdGVFcnJvcjogKGNhbGxiYWNrOiAoZXJyb3I6IEVycm9yKSA9PiB2b2lkKSA9PiAoKSA9PiB2b2lkO1xufVxuXG4vLyBTUUxpdGUgQVBJ44Gu5a6f6KOFXG5jb25zdCBzcWxpdGVBUEk6IFNRTGl0ZUFQSSA9IHtcbiAgZXhlY3V0ZTogKHNxbCwgcGFyYW1zID0gW10pID0+IGlwY1JlbmRlcmVyLmludm9rZSgnc3FsaXRlLWV4ZWN1dGUnLCBzcWwsIHBhcmFtcyksXG4gIHF1ZXJ5OiAoc3FsLCBwYXJhbXMgPSBbXSkgPT4gaXBjUmVuZGVyZXIuaW52b2tlKCdzcWxpdGUtcXVlcnknLCBzcWwsIHBhcmFtcyksXG4gIGdldDogKHNxbCwgcGFyYW1zID0gW10pID0+IGlwY1JlbmRlcmVyLmludm9rZSgnc3FsaXRlLWdldCcsIHNxbCwgcGFyYW1zKSxcbn07XG5cbi8vIEFQSeOBruWun+ijhVxuY29uc3QgZWxlY3Ryb25BUEk6IEVsZWN0cm9uQVBJID0ge1xuICBsb2FkUnVuRmlsZXM6IChydW5Gb2xkZXJQYXRoKSA9PiBpcGNSZW5kZXJlci5pbnZva2UoJ2xvYWQtcnVuLWZpbGVzJywgcnVuRm9sZGVyUGF0aCksXG4gIGdldEFsbFJ1bnM6ICgpID0+IGlwY1JlbmRlcmVyLmludm9rZSgnZ2V0LWFsbC1ydW5zJyksXG4gIGdldFRoZW1lOiAoKSA9PiBpcGNSZW5kZXJlci5pbnZva2UoJ2dldC10aGVtZScpLFxuICBzZXRUaGVtZTogKHRoZW1lKSA9PiBpcGNSZW5kZXJlci5pbnZva2UoJ3NldC10aGVtZScsIHRoZW1lKSxcbiAgc2VsZWN0Rm9sZGVyOiAoKSA9PiBpcGNSZW5kZXJlci5pbnZva2UoJ3NlbGVjdC1mb2xkZXInKSxcbiAgZ2V0UnVuRm9sZGVyOiAoKSA9PiBpcGNSZW5kZXJlci5pbnZva2UoJ2dldC1ydW4tZm9sZGVyJyksXG4gIG9uTG9hZFByb2dyZXNzOiAoY2FsbGJhY2spID0+IHtcbiAgICBjb25zdCBwcm9ncmVzc0hhbmRsZXIgPSAoXzogYW55LCBkYXRhOiBMb2FkUHJvZ3Jlc3MpID0+IGNhbGxiYWNrKGRhdGEpO1xuICAgIGlwY1JlbmRlcmVyLm9uKCdsb2FkLXByb2dyZXNzJywgcHJvZ3Jlc3NIYW5kbGVyKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaXBjUmVuZGVyZXIucmVtb3ZlTGlzdGVuZXIoJ2xvYWQtcHJvZ3Jlc3MnLCBwcm9ncmVzc0hhbmRsZXIpO1xuICAgIH07XG4gIH0sXG4gIGRlbGV0ZVJ1bjogKHJ1bikgPT4gaXBjUmVuZGVyZXIuaW52b2tlKCdkZWxldGUtcnVuJywgcnVuKSxcbiAgc3FsaXRlOiBzcWxpdGVBUEksXG4gIGNoZWNrRm9yVXBkYXRlczogKCkgPT4gaXBjUmVuZGVyZXIuaW52b2tlKCdjaGVjay1mb3ItdXBkYXRlcycpLFxuICBzdGFydFVwZGF0ZTogKCkgPT4gaXBjUmVuZGVyZXIuaW52b2tlKCdzdGFydC11cGRhdGUnKSxcbiAgb25VcGRhdGVBdmFpbGFibGU6IChjYWxsYmFjaykgPT4ge1xuICAgIGNvbnN0IGhhbmRsZXIgPSAoXzogYW55LCBpbmZvOiBVcGRhdGVJbmZvKSA9PiBjYWxsYmFjayhpbmZvKTtcbiAgICBpcGNSZW5kZXJlci5vbigndXBkYXRlLWF2YWlsYWJsZScsIGhhbmRsZXIpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpcGNSZW5kZXJlci5yZW1vdmVMaXN0ZW5lcigndXBkYXRlLWF2YWlsYWJsZScsIGhhbmRsZXIpO1xuICAgIH07XG4gIH0sXG4gIG9uVXBkYXRlUHJvZ3Jlc3M6IChjYWxsYmFjaykgPT4ge1xuICAgIGNvbnN0IGhhbmRsZXIgPSAoXzogYW55LCBpbmZvOiBQcm9ncmVzc0luZm8pID0+IGNhbGxiYWNrKGluZm8pO1xuICAgIGlwY1JlbmRlcmVyLm9uKCdkb3dubG9hZC1wcm9ncmVzcycsIGhhbmRsZXIpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpcGNSZW5kZXJlci5yZW1vdmVMaXN0ZW5lcignZG93bmxvYWQtcHJvZ3Jlc3MnLCBoYW5kbGVyKTtcbiAgICB9O1xuICB9LFxuICBvblVwZGF0ZURvd25sb2FkZWQ6IChjYWxsYmFjaykgPT4ge1xuICAgIGNvbnN0IGhhbmRsZXIgPSAoXzogYW55LCBpbmZvOiBVcGRhdGVJbmZvKSA9PiBjYWxsYmFjayhpbmZvKTtcbiAgICBpcGNSZW5kZXJlci5vbigndXBkYXRlLWRvd25sb2FkZWQnLCBoYW5kbGVyKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaXBjUmVuZGVyZXIucmVtb3ZlTGlzdGVuZXIoJ3VwZGF0ZS1kb3dubG9hZGVkJywgaGFuZGxlcik7XG4gICAgfTtcbiAgfSxcbiAgb25VcGRhdGVFcnJvcjogKGNhbGxiYWNrKSA9PiB7XG4gICAgY29uc3QgaGFuZGxlciA9IChfOiBhbnksIGVycm9yOiBFcnJvcikgPT4gY2FsbGJhY2soZXJyb3IpO1xuICAgIGlwY1JlbmRlcmVyLm9uKCd1cGRhdGUtZXJyb3InLCBoYW5kbGVyKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaXBjUmVuZGVyZXIucmVtb3ZlTGlzdGVuZXIoJ3VwZGF0ZS1lcnJvcicsIGhhbmRsZXIpO1xuICAgIH07XG4gIH0sXG59O1xuXG4vLyBBUEnjgpLjgqbjgqPjg7Pjg4njgqbjgqrjg5bjgrjjgqfjgq/jg4jjgavlhazplotcbmNvbnRleHRCcmlkZ2UuZXhwb3NlSW5NYWluV29ybGQoJ2VsZWN0cm9uQVBJJywgZWxlY3Ryb25BUEkpOyAiXSwibmFtZXMiOlsiaXBjUmVuZGVyZXIiLCJjb250ZXh0QnJpZGdlIl0sIm1hcHBpbmdzIjoiOztBQTJEQSxNQUFNLFlBQXVCO0FBQUEsRUFDM0IsU0FBUyxDQUFDLEtBQUssU0FBUyxPQUFPQSxTQUFZLFlBQUEsT0FBTyxrQkFBa0IsS0FBSyxNQUFNO0FBQUEsRUFDL0UsT0FBTyxDQUFDLEtBQUssU0FBUyxPQUFPQSxTQUFZLFlBQUEsT0FBTyxnQkFBZ0IsS0FBSyxNQUFNO0FBQUEsRUFDM0UsS0FBSyxDQUFDLEtBQUssU0FBUyxDQUFBLE1BQU9BLFNBQUFBLFlBQVksT0FBTyxjQUFjLEtBQUssTUFBTTtBQUN6RTtBQUdBLE1BQU0sY0FBMkI7QUFBQSxFQUMvQixjQUFjLENBQUMsa0JBQWtCQSxTQUFBQSxZQUFZLE9BQU8sa0JBQWtCLGFBQWE7QUFBQSxFQUNuRixZQUFZLE1BQU1BLFNBQUFBLFlBQVksT0FBTyxjQUFjO0FBQUEsRUFDbkQsVUFBVSxNQUFNQSxTQUFBQSxZQUFZLE9BQU8sV0FBVztBQUFBLEVBQzlDLFVBQVUsQ0FBQyxVQUFVQSxTQUFBQSxZQUFZLE9BQU8sYUFBYSxLQUFLO0FBQUEsRUFDMUQsY0FBYyxNQUFNQSxTQUFBQSxZQUFZLE9BQU8sZUFBZTtBQUFBLEVBQ3RELGNBQWMsTUFBTUEsU0FBQUEsWUFBWSxPQUFPLGdCQUFnQjtBQUFBLEVBQ3ZELGdCQUFnQixDQUFDLGFBQWE7QUFDNUIsVUFBTSxrQkFBa0IsQ0FBQyxHQUFRLFNBQXVCLFNBQVMsSUFBSTtBQUN6REEseUJBQUEsR0FBRyxpQkFBaUIsZUFBZTtBQUMvQyxXQUFPLE1BQU07QUFDQ0EsMkJBQUEsZUFBZSxpQkFBaUIsZUFBZTtBQUFBLElBQzdEO0FBQUEsRUFDRjtBQUFBLEVBQ0EsV0FBVyxDQUFDLFFBQVFBLFNBQUFBLFlBQVksT0FBTyxjQUFjLEdBQUc7QUFBQSxFQUN4RCxRQUFRO0FBQUEsRUFDUixpQkFBaUIsTUFBTUEsU0FBQUEsWUFBWSxPQUFPLG1CQUFtQjtBQUFBLEVBQzdELGFBQWEsTUFBTUEsU0FBQUEsWUFBWSxPQUFPLGNBQWM7QUFBQSxFQUNwRCxtQkFBbUIsQ0FBQyxhQUFhO0FBQy9CLFVBQU0sVUFBVSxDQUFDLEdBQVEsU0FBcUIsU0FBUyxJQUFJO0FBQy9DQSx5QkFBQSxHQUFHLG9CQUFvQixPQUFPO0FBQzFDLFdBQU8sTUFBTTtBQUNDQSwyQkFBQSxlQUFlLG9CQUFvQixPQUFPO0FBQUEsSUFDeEQ7QUFBQSxFQUNGO0FBQUEsRUFDQSxrQkFBa0IsQ0FBQyxhQUFhO0FBQzlCLFVBQU0sVUFBVSxDQUFDLEdBQVEsU0FBdUIsU0FBUyxJQUFJO0FBQ2pEQSx5QkFBQSxHQUFHLHFCQUFxQixPQUFPO0FBQzNDLFdBQU8sTUFBTTtBQUNDQSwyQkFBQSxlQUFlLHFCQUFxQixPQUFPO0FBQUEsSUFDekQ7QUFBQSxFQUNGO0FBQUEsRUFDQSxvQkFBb0IsQ0FBQyxhQUFhO0FBQ2hDLFVBQU0sVUFBVSxDQUFDLEdBQVEsU0FBcUIsU0FBUyxJQUFJO0FBQy9DQSx5QkFBQSxHQUFHLHFCQUFxQixPQUFPO0FBQzNDLFdBQU8sTUFBTTtBQUNDQSwyQkFBQSxlQUFlLHFCQUFxQixPQUFPO0FBQUEsSUFDekQ7QUFBQSxFQUNGO0FBQUEsRUFDQSxlQUFlLENBQUMsYUFBYTtBQUMzQixVQUFNLFVBQVUsQ0FBQyxHQUFRLFVBQWlCLFNBQVMsS0FBSztBQUM1Q0EseUJBQUEsR0FBRyxnQkFBZ0IsT0FBTztBQUN0QyxXQUFPLE1BQU07QUFDQ0EsMkJBQUEsZUFBZSxnQkFBZ0IsT0FBTztBQUFBLElBQ3BEO0FBQUEsRUFBQTtBQUVKO0FBR0FDLFNBQUFBLGNBQWMsa0JBQWtCLGVBQWUsV0FBVzsifQ==
